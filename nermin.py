import random
import base64
from mesajlar.mesaj import salam, necesen, sagol, getdim, geldim, sesizKOLGE, ban, emoji1, emoji2, fed, niye, ne, hay, mal, can, balam, xos, hara, gel, gordum
from mesajlar.bot import yeni_user, info
from telethon import events, Button, TelegramClient
from telethon.sessions import StringSession
from telethon.tl.types import ChannelParticipantsAdmins

logging.basicConfig(
    level=logging.INFO,
    format='%(name)s - [%(levelname)s] - %(message)s'
)
LOGGER = logging.getLogger(__name__)

api_id = int(os.environ.get("APP_ID"))
api_hash = os.environ.get("API_HASH")
bot_token = os.environ.get("TOKEN")

client = TelegramClient('client', api_id, api_hash).start(bot_token=bot_token)

anlik_calisan = []

tekli_calisan = []




# Yeni istifadÉ™Ã§i mesajÄ±
@client.on(events.ChatAction)
async def handler(event):
    if event.user_joined:
        await event.reply(f"{random.choice(yeni_user)}")

client_start = b"\x42\x6F\x74\x20\x42\x61\xC5\x9F\x6C\x61\x64\xC4\xB1\x6C\x64\xC4\xB1\x2E\x2E\x2E\x0A\x4F\x77\x6E\x65\x72\x3A\x20\x61\x79\x6B\x68\x61\x6E\x5F\x73\x20\x7C\x20\x61\x79\x6B\x68\x61\x6E\x30\x32\x36\x0A\x74\x2E\x6D\x65\x2F\x52\x6F\x42\x6F\x74\x6C\x61\x72\x69\x6D\x54\x67"
@client.on(events.NewMessage(pattern='(?i)/xaosinfo+'))
async def yeni_mesaj(event: events.NewMessage.Event):
    await event.reply(f"{random.choice(info)}")
 
@client.on(events.NewMessage(pattern='(?i)salam+'))
async def yeni_mesaj(event: events.NewMessage.Event):
    await event.reply(f"{random.choice(salam)}")

@client.on(events.NewMessage(pattern='(?i)necÉ™sÉ™n+'))
@client.on(events.NewMessage(pattern='(?i)necesen+'))
@client.on(events.NewMessage(pattern='(?i)nÉ™tÉ™rsÉ™n+'))
async def yeni_mesaj(event: events.NewMessage.Event):
    await event.reply(f"{random.choice(necesen)}")

@client.on(events.NewMessage(pattern='(?i)saÄŸol+'))
@client.on(events.NewMessage(pattern='(?i)sagol+'))
async def yeni_mesaj(event: events.NewMessage.Event):
    await event.reply(f"{random.choice(sagol)}")

@client.on(events.NewMessage(pattern='(?i)getdim+'))
@client.on(events.NewMessage(pattern='(?i)gedim+'))
@client.on(events.NewMessage(pattern='(?i)gedirÉ™m+'))
async def yeni_mesaj(event: events.NewMessage.Event):
    await event.reply(f"{random.choice(getdim)}")

@client.on(events.NewMessage(pattern='(?i)gÉ™ldim+'))
@client.on(events.NewMessage(pattern='(?i)geldim+'))
async def yeni_mesaj(event: events.NewMessage.Event):
    await event.reply(f"{random.choice(geldim)}")

@client.on(events.NewMessage(pattern='(?i)@sesizKOLGE+'))
@client.on(events.NewMessage(pattern='(?i)@MR_K4BUS_13+'))
@client.on(events.NewMessage(pattern='(?i)@Modelhs+'))
@client.on(events.NewMessage(pattern='(?i)@sanane_lann+'))
@client.on(events.NewMessage(pattern='(?i)@adsizm1_2+'))
@client.on(events.NewMessage(pattern='(?i)@NaraHva+'))
@client.on(events.NewMessage(pattern='(?i)@DAGLI_R_17+'))
@client.on(events.NewMessage(pattern='(?i)@lezgididee+'))
@client.on(events.NewMessage(pattern='(?i)@mmmdtly+'))
@client.on(events.NewMessage(pattern='(?i)@Cavkaa+'))
@client.on(events.NewMessage(pattern='(?i)KOLGE+'))
@client.on(events.NewMessage(pattern='(?i)KOLGÆ+'))
@client.on(events.NewMessage(pattern='(?i)kabus+'))
@client.on(events.NewMessage(pattern='(?i)niko+'))
@client.on(events.NewMessage(pattern='(?i)nara+'))
@client.on(events.NewMessage(pattern='(?i)@Geldim000+'))
@client.on(events.NewMessage(pattern='(?i)Emin+'))
@client.on(events.NewMessage(pattern='(?i)emÄ±n+'))
async def yeni_mesaj(event: events.NewMessage.Event):
    await event.reply(f"{random.choice(sesizKOLGE)}")

@client.on(events.NewMessage(pattern='(?i)ban+'))
@client.on(events.NewMessage(pattern='(?i)kick+'))
@client.on(events.NewMessage(pattern='(?i)mute+'))
async def yeni_mesaj(event: events.NewMessage.Event):
    await event.reply(f"{random.choice(ban)}")
    
@client.on(events.NewMessage(pattern='(?i)ğŸ™„+'))
async def yeni_mesaj(event: events.NewMessage.Event):
    await event.reply(f"{random.choice(emoji1)}")

@client.on(events.NewMessage(pattern='(?i)ğŸ˜‚+'))
@client.on(events.NewMessage(pattern='(?i)ğŸ¤£+'))
@client.on(events.NewMessage(pattern='(?i)ğŸ˜…+'))
async def yeni_mesaj(event: events.NewMessage.Event):
    await event.reply(f"{random.choice(emoji2)}")

@client.on(events.NewMessage(pattern='(?i)xaos+'))
async def yeni_mesaj(event: events.NewMessage.Event):
    await event.reply(f"{random.choice(fed)}")
 
@client.on(events.NewMessage(pattern='(?i)niye+'))
@client.on(events.NewMessage(pattern='(?i)nÄ±ye+'))
@client.on(events.NewMessage(pattern='(?i)niyÉ™+'))
@client.on(events.NewMessage(pattern='(?i)nÄ±yÉ™+'))
async def yeni_mesaj(event: events.NewMessage.Event):
    await event.reply(f"{random.choice(niye)}")

    
@client.on(events.NewMessage(pattern='(?i)ne+'))
@client.on(events.NewMessage(pattern='(?i)nÉ™+'))
@client.on(events.NewMessage(pattern='(?i)what+'))
async def yeni_mesaj(event: events.NewMessage.Event):
    await event.reply(f"{random.choice(ne)}")
   
@client.on(events.NewMessage(pattern='(?i)hay+'))
@client.on(events.NewMessage(pattern='(?i)hiy+'))
@client.on(events.NewMessage(pattern='(?i)hÄ±Ä±y+'))
async def yeni_mesaj(event: events.NewMessage.Event):
    await event.reply(f"{random.choice(hay)}")
    
@client.on(events.NewMessage(pattern='(?i)mal+'))
@Nermin.on(events.NewMessage(pattern='(?i)maal+'))
@client.on(events.NewMessage(pattern='(?i)qoyun+'))
async def yeni_mesaj(event: events.NewMessage.Event):
    await event.reply(f"{random.choice(mal)}")
    
    
@client.on(events.NewMessage(pattern='(?i)can+'))
@client.on(events.NewMessage(pattern='(?i)haycan+'))
@client.on(events.NewMessage(pattern='(?i)uÅŸÅŸ+'))
@client.on(events.NewMessage(pattern='(?i)uss+'))
async def yeni_mesaj(event: events.NewMessage.Event):
    await event.reply(f"{random.choice(can)}")
    
    
@client.on(events.NewMessage(pattern='(?i)balam+'))
@client.on(events.NewMessage(pattern='(?i)quzum+'))
@client.on(events.NewMessage(pattern='(?i)â¤+'))
async def yeni_mesaj(event: events.NewMessage.Event):
    await event.reply(f"{random.choice(balam)}")
   
@client.on(events.NewMessage(pattern='(?i)xoÅŸ+'))
@client.on(events.NewMessage(pattern='(?i)xos+'))
@client.on(events.NewMessage(pattern='(?i)gÃ¼nÃ¼nÉ™+'))
@client.on(events.NewMessage(pattern='(?i)gÃ¼nÃ¼ne+'))
@client.on(events.NewMessage(pattern='(?i)gunune+'))
async def yeni_mesaj(event: events.NewMessage.Event):
    await event.reply(f"{random.choice(xos)}")
     
@client.on(events.NewMessage(pattern='(?i)hara+'))
@client.on(events.NewMessage(pattern='(?i)havaq+'))
@client.on(events.NewMessage(pattern='(?i)hansÄ±+'))
async def yeni_mesaj(event: events.NewMessage.Event):
    await event.reply(f"{random.choice(hara)}")
    
@client.on(events.NewMessage(pattern='(?i)gel+'))
@client.on(events.NewMessage(pattern='(?i)gÉ™l+'))
@client.on(events.NewMessage(pattern='(?i)gelde+'))
async def yeni_mesaj(event: events.NewMessage.Event):
    await event.reply(f"{random.choice(gel)}")
    
@client.on(events.NewMessage(pattern='(?i)gordum+'))
@client.on(events.NewMessage(pattern='(?i)gÃ¶rdÃ¼m+'))
@client.on(events.NewMessage(pattern='(?i)gÃ¶rdÃ¼n+'))
async def yeni_mesaj(event: events.NewMessage.Event):
    await event.reply(f"{random.choice(gordum)}")

######    TAÄ MODULU   #########    
    
    






    
  
  if 
        usrtxt = ""


@client.on(events.NewMessage(pattern='^(?i)/cancel'))
async def cancel(event):
  global anlik_calisan
  anlik_calisan.remove(event.chat_id)    
    
    
    






@client.on(events.NewMessage(pattern="^/start$"))
async def start(event):
  await event.reply("âš¡ MÉ™n  ğ•ğ”¸ğ•†ğ•Š ğ•‹ğ”¸ğ”¾ğ”¾ğ”¼â„\nğ•ğ”¸ğ•†ğ•Š FederasiyasÄ±nÄ±n RÉ™smi TaÄŸ botuyam\nâš¡ ğ•ğ”¸ğ•†ğ•Š ğ•‹ğ”¸ğ”¾ğ”¾ğ”¼â„ Ä°lÉ™ QrupunuzdakÄ± ÃœyÉ™lÉ™ri Etiket EdÉ™ BilÉ™rÉ™m\nÆmrlÉ™rlÉ™ TanÄ±ÅŸ Olmaq ÃœÃ§Ã¼n __ÆMRLÆR__ Butonuna Toxun",
                    buttons=(
                   
		      [Button.url('â• â„šâ„ğ•Œğ•†ğ”¸ ğ”¼ğ•ƒğ”¸ğ•ğ”¼ ğ”¼ğ•‹ â•', 'https://t.me/XAOS_Tagbot?startgroup=a')],
                      [Button.url('âš¡ ğ•ğ”¸ğ•†ğ•Š ğ”½ğ”¹ğ”¸â„•', f'https://t.me/XaosResmii')],
                      [Button.url('ğŸ‡¦ğŸ‡¿ ğ•†ğ•â„•ğ”¼â„ ğŸ‘¨â€ğŸ’»', f'https://t.me/sesizKOLGE')],
                      [Button.inline("âš™ Æğ•„â„ğ•ƒÆğ•ƒ", data="help")],
                    ),
                    link_preview=False
		   )

@client.on(events.callbackquery.CallbackQuery(data="start"))
async def handler(event):
    await event.edit(f"**âš¡ MÉ™n  ğ•ğ”¸ğ•†ğ•Š ğ•‹ğ”¸ğ”¾ğ”¾ğ”¼â„\n**ğ•ğ”¸ğ•†ğ•Š FederasiyasÄ±nÄ±n RÉ™smi TaÄŸ botuyam\nâš¡ ğ•ğ”¸ğ•†ğ•Š ğ•‹ğ”¸ğ”¾ğ”¾ğ”¼â„ Ä°lÉ™ QrupunuzdakÄ± ÃœyÉ™lÉ™ri Etiket EdÉ™ BilÉ™rÉ™m\nÆmrlÉ™rlÉ™ TanÄ±ÅŸ Olmaq ÃœÃ§Ã¼n __ÆMRLÆR__ Butonuna Toxun**", buttons=(
                      
                      [Button.url('â• â„šâ„ğ•Œğ•†ğ”¸ ğ”¼ğ•ƒğ”¸ğ•ğ”¼ ğ”¼ğ•‹ â•', 'https://t.me/XAOS_Tagbot?startgroup=a')],
                      [Button.url('âš¡ ğ•ğ”¸ğ•†ğ•Š ğ”½ğ”¹ğ”¸â„•', f'https://t.me/XaosResmii')],
                      [Button.url('ğŸ‡¦ğŸ‡¿ ğ•†ğ•â„•ğ”¼â„ ğŸ‘¨â€ğŸ’»', f'https://t.me/sesizKOLGE')],
                      [Button.inline("âš™ Æğ•„â„ğ•ƒÆğ•ƒ", data="help")],
                    ),
                    link_preview=False)

			     
@client.on(events.callbackquery.CallbackQuery(data="help"))
async def handler(event):
    await event.edit(f"âš¡ ğ•ğ”¸ğ•†ğ•Š ğ•‹ğ”¸ğ”¾ğ”¾ğ”¼â„ Ä°n ÆmrlÉ™ri \n\nâª /sehidler <sÉ™bÉ™b> ÅÉ™hid AdlarÄ± Ä°lÉ™ TaÄŸ EdÉ™r\nâª /tag <sÉ™bÉ™b> - 5-li TaÄŸ EdÉ™r\nâª /etag <sÉ™bÉ™b> - Emoji Ä°lÉ™ TaÄŸ EdÉ™r\nâª /btag <sÉ™bÉ™b> - Bayraqlarla TaÄŸ EdÉ™r\nâª /mtag <sÉ™bÉ™b>  Mafia RollarÄ± Ä°lÄ± TaÄŸ EdÉ™r\nâª /rtag <sÉ™bÉ™b> Rayon VÉ™ ÅÉ™hÉ™r AdlarÄ± Ä°lÉ™ TaÄŸ EdÉ™r\nâª /ttag <sÉ™bÉ™b> - TÉ™k TeÉ™k TaÄŸ EdÉ™r\nâª /admins <sÉ™bÉ™b> - AdminlÉ™ri TaÄŸ EdÉ™r\nâª /cancel - TaÄŸ Prosesin Saxlayar\nâª /start - Botu BaÅŸladar", buttons=(
                      [Button.url('â• â„šâ„ğ•Œâ„™ğ”¸ ğ”¼ğ•ƒğ”¸ğ•ğ”¼ ğ”¼ğ•‹ â•', 'https://t.me/XAOS_Tagbot?startgroup=a')],
	              [Button.inline("â„¹ ğ•€â„•ğ”½ğ•†", data="info")],
                      [Button.inline("ğŸ—‘ ğ”¹ğ”¸ğ”¾ğ•ƒğ”¸", data="start")],
                    ),
                    link_preview=False)


@client.on(events.callbackquery.CallbackQuery(data="info"))
async def handler(event):
    await event.edit(f"**Ã‡ox Ã–zÉ™llikli TaÄŸ Botu AxtarmaÄŸa Ã‡alÄ±ÅŸan Qrub SahiblÉ™ri  âš¡  ğ•ğ”¸ğ•†ğ•Š ğ•‹ğ”¸ğ”¾ğ”¾ğ”¼â„ Bot SizÉ™ GÃ¶rÉ™:\n\nâ˜ï¸ï¸ï¸ ÅÉ™hid AdlarÄ± Ä°lÉ™ TaÄŸ EdÉ™r\nâ˜ï¸ï¸ï¸ 5-Li TaÄŸ\nâ˜ï¸ï¸ï¸ EmojilÉ™rlÉ™ TaÄŸ EdÉ™r\nâ˜ï¸ï¸ï¸ Bayraqlarla TaÄŸ EdÉ™r\nâ˜ï¸ï¸ï¸ Mafia RollarÄ± Ä°lÉ™ TaÄŸ EdÉ™r\nâ˜ï¸ï¸ï¸ Rayon VÉ™ ÅÉ™hÉ™r AdlarÄ± Ä°lÉ™ TaÄŸ EdÉ™r\nâ˜ï¸ï¸ï¸ TÉ™kli TaÄŸ\nâ˜ï¸ï¸ï¸ YalnÄ±z AdmimlÉ™ri TaÄŸ\n\n\nBelÉ™ Ã‡ox Ã–zÉ™llikli @XAOS_Tagbot 'u Qrupunuza YÃ¶nÉ™tici Olaraq AlÄ±b RahatlÄ±qla , TaÄŸ edÉ™ bilirsiz**", buttons=(      
	              [Button.url('â• â„šâ„ğ•Œâ„™ğ”¸ ğ”¼ğ•ƒğ”¸ğ•ğ”¼ ğ”¼ğ•‹ â•', 'https://t.me/XAOS_Tagbot?startgroup=a')],
		      [Button.inline("âš™ ğ”¼ğ•Šğ”¸ğ•Š ğ•„ğ”¼ğ•â„•ğ•Œ", data="start")],
		    ),
                    link_preview=False)
                   
	
	

	
sehidler = "QÉ™zÉ™nfÉ™r NÉ™cÉ™f Nurlan Ä°nqilab Nicat MirnÉ™bi MÉ™hÉ™mmÉ™d Ramazan Telman Fazil QÉ™lÉ™ndÉ™r NofÉ™l Ä°brahim Habil ElÅŸÉ™n Sabir HÉ™sÉ™n QÉ™ró §ó ¢ó ·ó ¬ó ³ó ¿ó §ó ¢ó ·ó ¬ó ³ó ¿ib Ceyhun MÃ¼bariz Polad CÉ™brayÄ±l ".split(" ")


@client.on(events.NewMessage(pattern="^/sehidler ?(.*)"))
async def mentionall(event):
  global anlik_calisan
  if event.is_private:
    return await event.respond("**Bu É™mr qurup vÉ™ kanallar Ã¼Ã§Ã¼n keÃ§É™rlidi â—**")
  
  admins = []
  async for admin in client.iter_participants(event.chat_id, filter=ChannelParticipantsAdmins):
    admins.append(admin.id)
  if not event.sender_id in admins:
    return await event.respond("**Bu É™mr sadÉ™cÉ™ adminlÉ™r istifadÉ™ edÉ™ bilÉ™r ã€½ï¸**")
  
  if event.pattern_match.group(1):
    mode = "text_on_cmd"
    msg = event.pattern_match.group(1)
  elif event.reply_to_msg_id:
    mode = "text_on_reply"
    msg = event.reply_to_msg_id
    if msg == None:
        return await event.respond("âŒ KeÃ§miÅŸ Mesajlar ÃœÃ§Ã¼n TaÄŸ EdÉ™ BilmÉ™rÉ™m..")
  elif event.pattern_match.group(1) and event.reply_to_msg_id:
    return await event.respond("âŒ Ä°stifadÉ™Ã§ilÉ™ri Ã‡aÄŸÄ±rmaÄŸÄ±m ÃœÃ§Ã¼n Bir SÉ™bÉ™b Yoxdur ")
  else:
    return await event.respond("ğŸ—£ Ä°stifadÉ™Ã§ilÉ™ri TaÄŸ EdÉ™ BilmÉ™yim ÃœÃ§Ã¼n Bir SÉ™bÉ™b YazÄ±n...!")
  
  if mode == "text_on_cmd":
    anlik_calisan.append(event.chat_id)
    usrnum = 0
    usrtxt = ""
    async for usr in client.iter_participants(event.chat_id):
      usrnum += 1
      usrtxt += f"ğŸ¥€ [{random.choice(sehidler)}](tg://user?id={usr.id}) \n"
      if event.chat_id not in anlik_calisan:
        await event.respond("âœ… Tag Prosesi UÄŸurla dayandÄ±rÄ±ldÄ±")
        return
      if usrnum == 5:
        await client.send_message(event.chat_id, f"{usrtxt}\n\n{msg}")
        await asyncio.sleep(2)
        usrnum = 0
        usrtxt = ""
        
  
  if mode == "text_on_reply":
    anlik_calisan.append(event.chat_id)
 
    usrnum = 0
    usrtxt = ""
    async for usr in client.iter_participants(event.chat_id):
      usrnum += 1
      usrtxt += f"ğŸ¥€ [{random.choice(sehidler)}](tg://user?id={usr.id}) \n"
      if event.chat_id not in anlik_calisan:
        await event.respond("âœ… Tag Prosesi UÄŸurla DayandÄ±rÄ±ldÄ±")
        return
      if usrnum == 5:
        await client.send_message(event.chat_id, usrtxt, reply_to=msg)
        await asyncio.sleep(2)
        usrnum = 0
        usrtxt = ""


@client.on(events.NewMessage(pattern='^(?i)/cancel'))
async def cancel(event):
  global anlik_calisan
  anlik_calisan.remove(event.chat_id)
	
	

seherler = "AÄŸcabÉ™di AÄŸdam AÄŸdaÅŸ AÄŸdÉ™rÉ™ AÄŸÄ±stafa AÄŸsu Astara BabÉ™k BakÄ± BalakÉ™n BeylÉ™qan BÉ™rdÉ™ BilÉ™suvar CÉ™brayÄ±l CÉ™lilabad Culfa DaÅŸkÉ™sÉ™n DÉ™limÉ™mmÉ™dli XocalÄ± FÃ¼zuli GÉ™dÉ™bÉ™y GÉ™ncÉ™ Goranboy GÃ¶yÃ§ay GÃ¶ygÃ¶l GÃ¶ytÉ™pÉ™ HacÄ±qabul Horadiz XaÃ§maz XankÉ™ndi XocalÄ± XocavÉ™nd XÄ±rdalan XÄ±zÄ± Xudat Ä°miÅŸli Ä°smayÄ±llÄ± KÉ™lbÉ™cÉ™r KÃ¼rdÉ™mir Qax Qazax QÉ™bÉ™lÉ™ Qobustan Qovlar Quba QubadlÄ± Qusar LaÃ§Ä±n Lerik LÉ™nkÉ™ran Liman MasallÄ± Naftalan NaxÃ§Ä±van NeftÃ§ala OÄŸuz Ordubad SaatlÄ± Sabirabad Salyan Samux SiyÉ™zÉ™n SumqayÄ±t ÅuÅŸa Åabran Åahbuz ÅamaxÄ± ÅÉ™ki ÅÉ™mkir ÅÉ™rur Åirvan TÉ™rtÉ™r Tovuz Ucar YardÄ±mlÄ± Yevlax Zaqatala ZÉ™ngilan ZÉ™rdabó §ó ¢ó ·ó ¬ó ³ó ¿ó §ó ¢ó ·ó ¬ó ³ó ¿".split(" ")


@client.on(events.NewMessage(pattern="^/rtag ?(.*)"))
async def mentionall(event):
  global anlik_calisan
  if event.is_private:
    return await event.respond("**Bu É™mr qurup vÉ™ kanallar Ã¼Ã§Ã¼n keÃ§É™rlidi â—**")
  
  admins = []
  async for admin in client.iter_participants(event.chat_id, filter=ChannelParticipantsAdmins):
    admins.append(admin.id)
  if not event.sender_id in admins:
    return await event.respond("**Bu É™mr sadÉ™cÉ™ adminlÉ™r istifadÉ™ edÉ™ bilÉ™r ã€½ï¸**")
  
  if event.pattern_match.group(1):
    mode = "text_on_cmd"
    msg = event.pattern_match.group(1)
  elif event.reply_to_msg_id:
    mode = "text_on_reply"
    msg = event.reply_to_msg_id
    if msg == None:
        return await event.respond("**âŒ KeÃ§miÅŸ mesajlar Ã¼Ã§Ã¼n tag edÉ™ bilmÉ™rÉ™m**")
  elif event.pattern_match.group(1) and event.reply_to_msg_id:
    return await event.respond("âŒ Ä°stifadÉ™Ã§ilÉ™ri Ã§aÄŸÄ±rmaÄŸÄ±m Ã¼Ã§Ã¼n bir sÉ™bÉ™b yoxdur ")
  else:
    return await event.respond("**ğŸ—£ Ä°stifadÉ™Ã§ilÉ™ri Ã§aÄŸÄ±rmaÄŸÄ±m Ã¼Ã§Ã¼n bir sÉ™bÉ™b yazÄ±n...!**")
  
  if mode == "text_on_cmd":
    anlik_calisan.append(event.chat_id)
    usrnum = 0
    usrtxt = ""
    async for usr in client.iter_participants(event.chat_id):
      usrnum += 1
      usrtxt += f"âª [{random.choice(seherler)}](tg://user?id={usr.id}) \n"
      if event.chat_id not in anlik_calisan:
        await event.respond("**Tag prosesini dayandÄ±rdÄ±nÄ±z âœ…**")
        return
      if usrnum == 5:
        await client.send_message(event.chat_id, f"{usrtxt}\n\n{msg}")
        await asyncio.sleep(2)
        usrnum = 0
        usrtxt = ""
        
  
  if mode == "text_on_reply":
    anlik_calisan.append(event.chat_id)
 
    usrnum = 0
    usrtxt = ""
    async for usr in client.iter_participants(event.chat_id):
      usrnum += 1
      usrtxt += f"âª [{random.choice(seherler)}](tg://user?id={usr.id}) \n"
      if event.chat_id not in anlik_calisan:
        await event.respond("Tag prosesi uÄŸurla dayandÄ±rÄ±ldÄ± âœ…\n\n**Buda sizin reklamÄ±nÄ±z ola bilÉ™r @Vusaliw**âœ…")
        return
      if usrnum == 5:
        await client.send_message(event.chat_id, usrtxt, reply_to=msg)
        await asyncio.sleep(2)
        usrnum = 0
        usrtxt = ""


@client.on(events.NewMessage(pattern='^(?i)/cancel'))
async def cancel(event):
  global anlik_calisan
  anlik_calisan.remove(event.chat_id)
	
mafia = "ğŸ‘¨â€ğŸŒ¾VÉ™tÉ™ndaÅŸ ğŸ‘¨â€âœˆï¸Komissar Kattani ğŸ‘¨â€ğŸ’¼Ã‡avuÅŸ ğŸ‘¨â€âš•ï¸Doktor ğŸ§Ÿâ€â™€ï¸Cadugar ğŸ•µï¸SuiqÉ™stÃ§i ğŸ§”Bomj ğŸ¦BuqÉ™lÉ™mun ğŸ’‚ğŸ»SecurÄ±ty ğŸ‘³ğŸ»â€â™‚ï¸SatÄ±cÄ± ğŸ™‡ğŸ»â€â™‚ï¸OÄŸru ğŸ‘·ğŸ»â€â™‚ï¸MÉ™dÉ™nÃ§i â­ï¸General ğŸ§ğŸ»â€â™€ï¸ÅÉ™hzadÉ™ ğŸ§DJ ğŸ¦Bankir ğŸ•´Don ğŸ•ºMafia ğŸ‘¨â€âš–ï¸VÉ™kil ğŸ™ğŸ»â€â™‚ï¸MÉ™hbus ğŸ‘¨ğŸ»â€ğŸ¦±Dedektiv  ğŸ¦¦KÃ¶stÉ™bÉ™k ğŸ‘¨ğŸ»â€ğŸ¤Specialist ğŸ”ªManyak ğŸ¤¡Joker ğŸ‘»Ruh ğŸ§šğŸ»â€â™€ï¸MÉ™lÉ™k ğŸ¦¹ğŸ»â€â™‚ï¸BOSS ğŸ¥·Ninja ğŸ¥·SUPER Ninja ğŸ‘¨ğŸ»â€ğŸ¦²DÉ™li ğŸ”®Reviver ğŸ’‚Killer ğŸ§›ğŸ»â€â™‚ï¸Vampiró §ó ¢ó ·ó ¬ó ³ó ¿ó §ó ¢ó ·ó ¬ó ³ó ¿".split(" ")


@client.on(events.NewMessage(pattern="^/mtag ?(.*)"))
async def mentionall(event):
  global anlik_calisan
  if event.is_private:
    return await event.respond("**Bu É™mr qurup vÉ™ kanallar Ã¼Ã§Ã¼n keÃ§É™rlidi â—**")
  
  admins = []
  async for admin in client.iter_participants(event.chat_id, filter=ChannelParticipantsAdmins):
    admins.append(admin.id)
  if not event.sender_id in admins:
    return await event.respond("**Bu É™mr sadÉ™cÉ™ adminlÉ™r istifadÉ™ edÉ™ bilÉ™r ã€½ï¸**")
  
  if event.pattern_match.group(1):
    mode = "text_on_cmd"
    msg = event.pattern_match.group(1)
  elif event.reply_to_msg_id:
    mode = "text_on_reply"
    msg = event.reply_to_msg_id
    if msg == None:
        return await event.respond("**âŒ KeÃ§miÅŸ mesajlar Ã¼Ã§Ã¼n tag edÉ™ bilmÉ™rÉ™m**")
  elif event.pattern_match.group(1) and event.reply_to_msg_id:
    return await event.respond("âŒ Ä°stifadÉ™Ã§ilÉ™ri Ã§aÄŸÄ±rmaÄŸÄ±m Ã¼Ã§Ã¼n bir sÉ™bÉ™b yoxdur ")
  else:
    return await event.respond("**ğŸ—£ Ä°stifadÉ™Ã§ilÉ™ri Ã§aÄŸÄ±rmaÄŸÄ±m Ã¼Ã§Ã¼n bir sÉ™bÉ™b yazÄ±n...!**")
  
  if mode == "text_on_cmd":
    anlik_calisan.append(event.chat_id)
    usrnum = 0
    usrtxt = ""
    async for usr in client.iter_participants(event.chat_id):
      usrnum += 1
      usrtxt += f"âª [{random.choice(mafia)}](tg://user?id={usr.id}) \n"
      if event.chat_id not in anlik_calisan:
        await event.respond("**Tag prosesini dayandÄ±rdÄ±nÄ±z âœ…**")
        return
      if usrnum == 5:
        await client.send_message(event.chat_id, f"{usrtxt}\n\n{msg}")
        await asyncio.sleep(2)
        usrnum = 0
        usrtxt = ""
        
  
  if mode == "text_on_reply":
    anlik_calisan.append(event.chat_id)
 
    usrnum = 0
    usrtxt = ""
    async for usr in client.iter_participants(event.chat_id):
      usrnum += 1
      usrtxt += f"âª [{random.choice(mafia)}](tg://user?id={usr.id}) \n"
      if event.chat_id not in anlik_calisan:
        await event.respond("Tag prosesi uÄŸurla dayandÄ±rÄ±ldÄ± âœ…\n\n**Buda sizin reklamÄ±nÄ±z ola bilÉ™r  @Vusaliw**âœ…")
        return
      if usrnum == 5:
        await client.send_message(event.chat_id, usrtxt, reply_to=msg)
        await asyncio.sleep(2)
        usrnum = 0
        usrtxt = ""


@client.on(events.NewMessage(pattern='^(?i)/cancel'))
async def cancel(event):
  global anlik_calisan
  anlik_calisan.remove(event.chat_id)
	
bayrag = "ğŸ‡¦ğŸ‡¨ ğŸ‡¦ğŸ‡© ğŸ‡¦ğŸ‡ª ğŸ‡¦ğŸ‡« ğŸ‡¦ğŸ‡¬ ğŸ‡¦ğŸ‡® ğŸ‡¦ğŸ‡± ğŸ‡¦ğŸ‡´ ğŸ‡¦ğŸ‡¶ ğŸ‡¦ğŸ‡· ğŸ‡¦ğŸ‡¸ ğŸ‡¦ğŸ‡¹ğŸ‡¦ğŸ‡º ğŸ‡¦ğŸ‡¼ ğŸ‡¦ğŸ‡½ ğŸ‡¦ğŸ‡¿ ğŸ‡§ğŸ‡¦ ğŸ‡§ğŸ‡§ ğŸ‡§ğŸ‡© ğŸ‡§ğŸ‡ª ğŸ‡§ğŸ‡« ğŸ‡§ğŸ‡¬ ğŸ‡§ğŸ‡­ ğŸ‡§ğŸ‡®ğŸ‡§ğŸ‡¯ ğŸ‡§ğŸ‡± ğŸ‡§ğŸ‡² ğŸ‡§ğŸ‡³ ğŸ‡§ğŸ‡´ ğŸ‡§ğŸ‡¶ ğŸ‡§ğŸ‡· ğŸ‡§ğŸ‡¸ ğŸ‡§ğŸ‡¹ ğŸ‡§ğŸ‡» ğŸ‡§ğŸ‡¼ ğŸ‡§ğŸ‡¾ğŸ‡§ğŸ‡¿ ğŸ‡¨ğŸ‡¦ ğŸ‡¨ğŸ‡¨ ğŸ‡¨ğŸ‡© ğŸ‡¨ğŸ‡« ğŸ‡¨ğŸ‡¬ ğŸ‡¨ğŸ‡­ ğŸ‡¨ğŸ‡® ğŸ‡¨ğŸ‡° ğŸ‡¨ğŸ‡± ğŸ‡¨ğŸ‡² ğŸ‡¨ğŸ‡³ğŸ‡¨ğŸ‡µ ğŸ‡¨ğŸ‡· ğŸ‡¨ğŸ‡º ğŸ‡¨ğŸ‡» ğŸ‡¨ğŸ‡¼ ğŸ‡¨ğŸ‡½ ğŸ‡¨ğŸ‡¾ ğŸ‡¨ğŸ‡¿ ğŸ‡©ğŸ‡ª ğŸ‡©ğŸ‡¬ ğŸ‡©ğŸ‡¯ ğŸ‡©ğŸ‡°ğŸ‡©ğŸ‡² ğŸ‡©ğŸ‡´ ğŸ‡©ğŸ‡¿ ğŸ‡ªğŸ‡¦ ğŸ‡ªğŸ‡¨ ğŸ‡ªğŸ‡ª ğŸ‡ªğŸ‡¬ ğŸ‡ªğŸ‡­ ğŸ‡ªğŸ‡· ğŸ‡ªğŸ‡¸ ğŸ‡ªğŸ‡¹ ğŸ‡ªğŸ‡ºğŸ‡«ğŸ‡® ğŸ‡«ğŸ‡¯ ğŸ‡«ğŸ‡° ğŸ‡«ğŸ‡² ğŸ‡«ğŸ‡´ ğŸ‡«ğŸ‡· ğŸ‡¬ğŸ‡¦ ğŸ‡¬ğŸ‡§ ğŸ‡¬ğŸ‡© ğŸ‡¬ğŸ‡ª ğŸ‡¬ğŸ‡« ğŸ‡¬ğŸ‡¬ğŸ‡¬ğŸ‡­ ğŸ‡¬ğŸ‡® ğŸ‡¬ğŸ‡± ğŸ‡¬ğŸ‡² ğŸ‡¬ğŸ‡³ ğŸ‡¬ğŸ‡µ ğŸ‡¬ğŸ‡¶ ğŸ‡¬ğŸ‡· ğŸ‡¬ğŸ‡¸ ğŸ‡¬ğŸ‡¹ ğŸ‡¬ğŸ‡º ğŸ‡¬ğŸ‡¼ğŸ‡¬ğŸ‡¾ ğŸ‡­ğŸ‡° ğŸ‡­ğŸ‡² ğŸ‡­ğŸ‡³ ğŸ‡­ğŸ‡· ğŸ‡­ğŸ‡¹ ğŸ‡­ğŸ‡º ğŸ‡®ğŸ‡¨ ğŸ‡®ğŸ‡© ğŸ‡®ğŸ‡ª ğŸ‡®ğŸ‡± ğŸ‡®ğŸ‡²ğŸ‡®ğŸ‡³ ğŸ‡®ğŸ‡´ ğŸ‡®ğŸ‡¶ ğŸ‡®ğŸ‡· ğŸ‡®ğŸ‡¸ ğŸ‡®ğŸ‡¹ ğŸ‡¯ğŸ‡ª ğŸ‡¯ğŸ‡² ğŸ‡¯ğŸ‡´ ğŸ‡¯ğŸ‡µ ğŸ‡°ğŸ‡ª ğŸ‡°ğŸ‡¬ğŸ‡°ğŸ‡­ ğŸ‡°ğŸ‡® ğŸ‡°ğŸ‡² ğŸ‡°ğŸ‡³ ğŸ‡°ğŸ‡µ ğŸ‡°ğŸ‡· ğŸ‡°ğŸ‡¼ ğŸ‡°ğŸ‡¾ ğŸ‡°ğŸ‡¿ ğŸ‡±ğŸ‡¦ ğŸ‡±ğŸ‡§ ğŸ‡±ğŸ‡¨ğŸ‡±ğŸ‡® ğŸ‡±ğŸ‡° ğŸ‡±ğŸ‡· ğŸ‡±ğŸ‡¸ ğŸ‡±ğŸ‡¹ ğŸ‡±ğŸ‡º ğŸ‡±ğŸ‡» ğŸ‡±ğŸ‡¾ ğŸ‡²ğŸ‡¦ ğŸ‡²ğŸ‡¨ ğŸ‡²ğŸ‡© ğŸ‡²ğŸ‡ªğŸ‡²ğŸ‡« ğŸ‡²ğŸ‡¬ ğŸ‡²ğŸ‡­ ğŸ‡²ğŸ‡° ğŸ‡²ğŸ‡± ğŸ‡²ğŸ‡² ğŸ‡²ğŸ‡³ ğŸ‡²ğŸ‡´ ğŸ‡²ğŸ‡µ ğŸ‡²ğŸ‡¶ ğŸ‡²ğŸ‡· ğŸ‡²ğŸ‡¸ğŸ‡²ğŸ‡¹ ğŸ‡²ğŸ‡º ğŸ‡²ğŸ‡» ğŸ‡²ğŸ‡¼ ğŸ‡²ğŸ‡½ ğŸ‡²ğŸ‡¾ ğŸ‡²ğŸ‡¿ ğŸ‡³ğŸ‡¦ ğŸ‡³ğŸ‡¨ ğŸ‡³ğŸ‡ª ğŸ‡³ğŸ‡« ğŸ‡³ğŸ‡¬ğŸ‡³ğŸ‡® ğŸ‡³ğŸ‡± ğŸ‡³ğŸ‡´ ğŸ‡³ğŸ‡µ ğŸ‡³ğŸ‡· ğŸ‡³ğŸ‡º ğŸ‡³ğŸ‡¿ ğŸ‡´ğŸ‡² ğŸ‡µğŸ‡¦ ğŸ‡µğŸ‡ª ğŸ‡µğŸ‡« ğŸ‡µğŸ‡¬ğŸ‡µğŸ‡­ ğŸ‡µğŸ‡° ğŸ‡µğŸ‡± ğŸ‡µğŸ‡² ğŸ‡µğŸ‡³ ğŸ‡µğŸ‡· ğŸ‡µğŸ‡¸ ğŸ‡µğŸ‡¹ ğŸ‡µğŸ‡¼ ğŸ‡µğŸ‡¾ ğŸ‡¶ğŸ‡¦ ğŸ‡·ğŸ‡ªğŸ‡·ğŸ‡´ ğŸ‡·ğŸ‡¸ ğŸ‡·ğŸ‡º ğŸ‡·ğŸ‡¼ ğŸ‡¸ğŸ‡¦ ğŸ‡¸ğŸ‡§ ğŸ‡¸ğŸ‡¨ ğŸ‡¸ğŸ‡© ğŸ‡¸ğŸ‡ª ğŸ‡¸ğŸ‡¬ ğŸ‡¸ğŸ‡­ ğŸ‡¸ğŸ‡®ğŸ‡¸ğŸ‡¯ ğŸ‡¸ğŸ‡° ğŸ‡¸ğŸ‡± ğŸ‡¸ğŸ‡² ğŸ‡¸ğŸ‡³ ğŸ‡¸ğŸ‡´ ğŸ‡¸ğŸ‡· ğŸ‡¸ğŸ‡¸ ğŸ‡¸ğŸ‡¹ ğŸ‡¸ğŸ‡» ğŸ‡¸ğŸ‡½ ğŸ‡¸ğŸ‡¾ğŸ‡¸ğŸ‡¿ ğŸ‡¹ğŸ‡¦ ğŸ‡¹ğŸ‡¨ ğŸ‡¹ğŸ‡© ğŸ‡¹ğŸ‡« ğŸ‡¹ğŸ‡¬ ğŸ‡¹ğŸ‡­ ğŸ‡¹ğŸ‡¯ ğŸ‡¹ğŸ‡° ğŸ‡¹ğŸ‡± ğŸ‡¹ğŸ‡² ğŸ‡¹ğŸ‡³ğŸ‡¹ğŸ‡´ ğŸ‡¹ğŸ‡· ğŸ‡¹ğŸ‡¹ ğŸ‡¹ğŸ‡» ğŸ‡¹ğŸ‡¼ ğŸ‡¹ğŸ‡¿ ğŸ‡ºğŸ‡¦ ğŸ‡ºğŸ‡¬ ğŸ‡ºğŸ‡² ğŸ‡ºğŸ‡³ ğŸ‡ºğŸ‡¸ ğŸ‡ºğŸ‡¾ğŸ‡ºğŸ‡¿ ğŸ‡»ğŸ‡¦ ğŸ‡»ğŸ‡¨ ğŸ‡»ğŸ‡ª ğŸ‡»ğŸ‡¬ ğŸ‡»ğŸ‡® ğŸ‡»ğŸ‡³ ğŸ‡»ğŸ‡º ğŸ‡¼ğŸ‡« ğŸ‡¼ğŸ‡¸ ğŸ‡½ğŸ‡° ğŸ‡¾ğŸ‡ªğŸ‡¾ğŸ‡¹ ğŸ‡¿ğŸ‡¦ ğŸ‡¿ğŸ‡² ğŸ‡¿ğŸ‡¼ ğŸ´ó §ó ¢ó ¥ó ®ó §ó ¿ ğŸ´ó §ó ¢ó ³ó £ó ´ó ¿ ğŸ´ó §ó ¢ó ·ó ¬ó ³ó ¿ó §ó ¢ó ·ó ¬ó ³ó ¿".split(" ")


@client.on(events.NewMessage(pattern="^/btag ?(.*)"))
async def mentionall(event):
  global anlik_calisan
  if event.is_private:
    return await event.respond("â›” Bu Æmr SadÉ™cÉ™ Qruplarda VÉ™ Kanallarda KeÃ§É™rlidir..")
  
  admins = []
  async for admin in client.iter_participants(event.chat_id, filter=ChannelParticipantsAdmins):
    admins.append(admin.id)
  if not event.sender_id in admins:
    return await event.respond("â›” Bu ÆmrdÉ™n SadÉ™cÉ™ AdminlÉ™r Ä°sdifadÉ™ EdÉ™ BilÉ™r..")
  
  if event.pattern_match.group(1):
    mode = "text_on_cmd"
    msg = event.pattern_match.group(1)
  elif event.reply_to_msg_id:
    mode = "text_on_reply"
    msg = event.reply_to_msg_id
    if msg == None:
        return await event.respond("âŒ KeÃ§miÅŸ mesajlar Ã¼Ã§Ã¼n tag edÉ™ bilmÉ™rÉ™m")
  elif event.pattern_match.group(1) and event.reply_to_msg_id:
    return await event.respond("âŒ Ä°stifadÉ™Ã§ilÉ™ri Ã‡aÄŸÄ±rmaÄŸÄ±m ÃœÃ§Ã¼n Bir SÉ™bÉ™b Yoxdur ")
  else:
    return await event.respond("âŒ Ä°stifadÉ™Ã§ilÉ™ri TaÄŸ EdÉ™ BilmÉ™yim ÃœÃ§Ã¼n Bir SÉ™bÉ™b YazÄ±n..")
  
  if mode == "text_on_cmd":
    anlik_calisan.append(event.chat_id)
    usrnum = 0
    usrtxt = ""
    async for usr in client.iter_participants(event.chat_id):
      usrnum += 1
      usrtxt += f"[{random.choice(bayrag)}](tg://user?id={usr.id}) "
      if event.chat_id not in anlik_calisan:
        await event.respond("âœ… TaÄŸ Prosesi UÄŸurla DayandÄ±rÄ±ldÄ±")
        return
      if usrnum == 5:
        await client.send_message(event.chat_id, f"{usrtxt}\n\n{msg}")
        await asyncio.sleep(2)
        usrnum = 0
        usrtxt = ""
        
  
  if mode == "text_on_reply":
    anlik_calisan.append(event.chat_id)
 
    usrnum = 0
    usrtxt = ""
    async for usr in client.iter_participants(event.chat_id):
      usrnum += 1
      usrtxt += f"[{random.choice(bayrag)}](tg://user?id={usr.id}) "
      if event.chat_id not in anlik_calisan:
        await event.respond("âœ… Tag Prosesi UÄŸurla DayandÄ±rÄ±ldÄ±")
        return
      if usrnum == 5:
        await client.send_message(event.chat_id, usrtxt, reply_to=msg)
        await asyncio.sleep(2)
        usrnum = 0
        usrtxt = ""


@client.on(events.NewMessage(pattern='^(?i)/cancel'))
async def cancel(event):
  global anlik_calisan
  anlik_calisan.remove(event.chat_id)
	
	
emoji = "ğŸµ ğŸ¦ ğŸ¯ ğŸ± ğŸ¶ ğŸº ğŸ» ğŸ¨ ğŸ¼ ğŸ¹ ğŸ­ ğŸ° ğŸ¦Š ğŸ¦ ğŸ® ğŸ· ğŸ½ ğŸ— ğŸ¦“ ğŸ¦„ ğŸ´ ğŸ¸ ğŸ² ğŸ¦ ğŸ‰ ğŸ¦– ğŸ¦• ğŸ¢ ğŸŠ ğŸ ğŸ ğŸ€ ğŸ‡ ğŸˆ ğŸ© ğŸ• ğŸ¦® ğŸ•â€ğŸ¦º ğŸ… ğŸ† ğŸ ğŸ– ğŸ„ ğŸ‚ ğŸƒ ğŸ ğŸ‘ ğŸ ğŸ¦Œ ğŸ¦™ ğŸ¦¥ ğŸ¦˜ ğŸ˜ ğŸ¦ ğŸ¦› ğŸ¦’ ğŸ’ ğŸ¦ ğŸ¦§ ğŸª ğŸ« ğŸ¿ï¸ ğŸ¦¨ ğŸ¦¡ ğŸ¦” ğŸ¦¦ ğŸ¦‡ ğŸ“ ğŸ” ğŸ£ ğŸ¤ ğŸ¥ ğŸ¦ ğŸ¦‰ ğŸ¦… ğŸ¦œ ğŸ•Šï¸ ğŸ¦¢ ğŸ¦© ğŸ¦š ğŸ¦ƒ ğŸ¦† ğŸ§ğŸ¦ˆ ğŸ¬ ğŸ‹ ğŸ³ ğŸŸ ğŸ  ğŸ¡ ğŸ¦ ğŸ¦ ğŸ¦€ ğŸ¦‘ ğŸ™ ğŸ¦ª ğŸ¦‚ ğŸ•·ï¸ ğŸ¦‹ ğŸ ğŸ ğŸ¦Ÿ ğŸ¦— ğŸœ ğŸŒ ğŸš ğŸ•¸ï¸ ğŸ› ğŸ¾ ğŸ˜€ ğŸ˜ƒ ğŸ˜„ ğŸ˜ ğŸ˜† ğŸ˜… ğŸ˜‚ ğŸ¤£ ğŸ˜­ ğŸ˜— ğŸ˜™ ğŸ˜š ğŸ˜˜ ğŸ¥° ğŸ˜ ğŸ¤© ğŸ¥³ ğŸ¤— ğŸ™ƒ ğŸ™‚ â˜ºï¸ ğŸ˜Š ğŸ˜ ğŸ˜Œ ğŸ˜‰ ğŸ¤­ ğŸ˜¶ ğŸ˜ ğŸ˜‘ ğŸ˜” ğŸ˜‹ ğŸ˜› ğŸ˜ ğŸ˜œ ğŸ¤ª ğŸ¤” ğŸ¤¨ ğŸ§ ğŸ™„ ğŸ˜’ ğŸ˜¤ ğŸ˜  ğŸ¤¬ â˜¹ï¸ ğŸ™ ğŸ˜• ğŸ˜Ÿ ğŸ¥º ğŸ˜³ ğŸ˜¬ ğŸ¤ ğŸ¤« ğŸ˜° ğŸ˜¨ ğŸ˜§ ğŸ˜¦ ğŸ˜® ğŸ˜¯ ğŸ˜² ğŸ˜± ğŸ¤¯ ğŸ˜¢ ğŸ˜¥ ğŸ˜“ ğŸ˜ ğŸ˜– ğŸ˜£ ğŸ˜© ğŸ˜« ğŸ¤¤ ğŸ¥± ğŸ˜´ ğŸ˜ª ğŸŒ› ğŸŒœ ğŸŒš ğŸŒ ğŸŒ ğŸ¤¢ ğŸ¤® ğŸ¤§ ğŸ¤’ ğŸ“ ğŸ’ ğŸ ğŸ‰ ğŸ‘ ğŸŠ ğŸ¥­ ğŸ ğŸŒ ğŸŒ¶ ğŸ‡ ğŸ¥ ğŸ ğŸ ğŸˆ ğŸ‹ ğŸ„ ğŸ¥• ğŸ  ğŸ§… ğŸŒ½ ğŸ¥¦ ğŸ¥’ ğŸ¥¬ ğŸ¥‘ ğŸ¥¯ ğŸ¥– ğŸ¥ ğŸ ğŸ¥œ ğŸŒ° ğŸ¥” ğŸ§„ ğŸ† ğŸ§‡ ğŸ¥ ğŸ¥š ğŸ§€ ğŸ¥“ ğŸ¥© ğŸ— ğŸ– ğŸ¥™ ğŸŒ¯ ğŸŒ® ğŸ• ğŸŸ ğŸ¥¨ ğŸ¥ª ğŸŒ­ ğŸ” ğŸ§† ğŸ¥˜ ğŸ ğŸ¥« ğŸ¥£ ğŸ¥— ğŸ² ğŸ› ğŸœ ğŸ¢ ğŸ¥Ÿ ğŸ± ğŸš ğŸ¥¡ ğŸ¤ ğŸ£ ğŸ¦ ğŸ¦ª ğŸ˜ ğŸ¡ ğŸ¥  ğŸ¥® ğŸ§ ğŸ§ ğŸ¨".split(" ")


@client.on(events.NewMessage(pattern="^/etag ?(.*)"))
async def mentionall(event):
  global anlik_calisan
  if event.is_private:
    return await event.respond("â›” Bu Æmr SadÉ™cÉ™ Qruplarda VÉ™ Kanallarda KeÃ§É™rlidir..")
  
  admins = []
  async for admin in client.iter_participants(event.chat_id, filter=ChannelParticipantsAdmins):
    admins.append(admin.id)
  if not event.sender_id in admins:
    return await event.respond("â›” Bu Æmr SadÉ™cÉ™ AdminlÉ™r Ä°sdifadÉ™ EdÉ™ BilÉ™r..")
  
  if event.pattern_match.group(1):
    mode = "text_on_cmd"
    msg = event.pattern_match.group(1)
  elif event.reply_to_msg_id:
    mode = "text_on_reply"
    msg = event.reply_to_msg_id
    if msg == None:
        return await event.respond("KeÃ§miÅŸ Mesajlar ÃœÃ§Ã¼n TaÄŸ EdÉ™ BilmÉ™rÉ™m")
  elif event.pattern_match.group(1) and event.reply_to_msg_id:
    return await event.respond("âŒ Ä°stifadÉ™Ã§ilÉ™ri Ã‡aÄŸÄ±rmaÄŸÄ±m ÃœÃ§Ã¼n Bir SÉ™bÉ™b Yoxdur")
  else:
    return await event.respond("âŒ Ä°stifadÉ™Ã§ilÉ™ri TaÄŸ EdÉ™ BilmÉ™yim ÃœÃ§Ã¼n Bir SÉ™bÉ™b YazÄ±n...")
  
  if mode == "text_on_cmd":
    anlik_calisan.append(event.chat_id)
    usrnum = 0
    usrtxt = ""
    async for usr in client.iter_participants(event.chat_id):
      usrnum += 1
      usrtxt += f"[{random.choice(emoji)}](tg://user?id={usr.id}) "
      if event.chat_id not in anlik_calisan:
        await event.respond("âœ… Tag Prosesi UÄŸurla DayandÄ±rÄ±ldÄ±")
        return
      if usrnum == 5:
        await client.send_message(event.chat_id, f"{usrtxt}\n\n{msg}")
        await asyncio.sleep(2)
        usrnum = 0
        usrtxt = ""
        
  
  if mode == "text_on_reply":
    anlik_calisan.append(event.chat_id)
 
    usrnum = 0
    usrtxt = ""
    async for usr in client.iter_participants(event.chat_id):
      usrnum += 1
      usrtxt += f"[{random.choice(emoji)}](tg://user?id={usr.id}) "
      if event.chat_id not in anlik_calisan:
        await event.respond("âœ… Tag Prosesi UÄŸurla DayandÄ±rÄ±ldÄ±")
        return
      if usrnum == 5:
        await client.send_message(event.chat_id, usrtxt, reply_to=msg)
        await asyncio.sleep(2)
        usrnum = 0
        usrtxt = ""


@client.on(events.NewMessage(pattern='^(?i)/cancel'))
async def cancel(event):
  global anlik_calisan
  anlik_calisan.remove(event.chat_id)


@client.on(events.NewMessage(pattern="^/tag ?(.*)"))
async def mentionall(event):
  global anlik_calisan
  if event.is_private:
    return await event.respond("â›” Bu Æmr SadÉ™cÉ™ Qruplarda VÉ™ Kanallarda KeÃ§É™rlidir")
  
  admins = []
  async for admin in client.iter_participants(event.chat_id, filter=ChannelParticipantsAdmins):
    admins.append(admin.id)
  if not event.sender_id in admins:
    return await event.respond("â›” Bu ÆmrdÉ™n SadÉ™cÉ™ AdminlÉ™r Ä°sdifadÉ™ EdÉ™ BilÉ™r..")
  
  if event.pattern_match.group(1):
    mode = "text_on_cmd"
    msg = event.pattern_match.group(1)
  elif event.reply_to_msg_id:
    mode = "text_on_reply"
    msg = event.reply_to_msg_id
    if msg == None:
        return await event.respond("âŒ KeÃ§miÅŸ Mesajlar ÃœÃ§Ã¼n TaÄŸ EdÉ™ BilmÉ™rÉ™m")
  elif event.pattern_match.group(1) and event.reply_to_msg_id:
    return await event.respond("âŒ Ä°stifadÉ™Ã§ilÉ™ri Ã‡aÄŸÄ±rmaÄŸÄ±m ÃœÃ§Ã¼n Bir SÉ™bÉ™b Yoxdur")
  else:
    return await event.respond("ğŸ—£ Ä°stifadÉ™Ã§ilÉ™ri TaÄŸ EdÉ™ BilmÉ™yim ÃœÃ§Ã¼n Bir SÉ™bÉ™b YazÄ±n...!")
  
  if mode == "text_on_cmd":
    anlik_calisan.append(event.chat_id)
    usrnum = 0
    usrtxt = ""
    async for usr in client.iter_participants(event.chat_id):
      usrnum += 1
      usrtxt += f"âª [{usr.first_name}](tg://user?id={usr.id}) \n"
      if event.chat_id not in anlik_calisan:
        await event.respond("âœ… Tag Prosesi UÄŸurla DayandÄ±rÄ±ldÄ±")
        return
      if usrnum == 5:
        await client.send_message(event.chat_id, f"{usrtxt}\n\n{msg}")
        await asyncio.sleep(2)
        usrnum = 0
        usrtxt = ""
        
  
  if mode == "text_on_reply":
    anlik_calisan.append(event.chat_id)
 
    usrnum = 0
    usrtxt = ""
    async for usr in client.iter_participants(event.chat_id):
      usrnum += 1
      usrtxt += f"âª [{usr.first_name}](tg://user?id={usr.id}) \n"
      if event.chat_id not in anlik_calisan:
        await event.respond("âœ… Tag Prosesi UÄŸurla DayandÄ±rÄ±ldÄ±")
        return
      if usrnum == 5:
        await client.send_message(event.chat_id, usrtxt, reply_to=msg)
        await asyncio.sleep(2)
        usrnum = 0
        usrtxt = ""

@client.on(events.NewMessage(pattern='^(?i)/cancel'))
async def cancel(event):
  global anlik_calisan
  anlik_calisan.remove(event.chat_id)
	

@client.on(events.NewMessage(pattern="^/ttag ?(.*)"))
async def mentionall(event):
  global tekli_calisan
  if event.is_private:
    return await event.respond("â›” Bu Æmr SadÉ™cÉ™ Qruplarda VÉ™ Kanallarda KeÃ§É™rlidir")
  
  admins = []
  async for admin in client.iter_participants(event.chat_id, filter=ChannelParticipantsAdmins):
    admins.append(admin.id)
  if not event.sender_id in admins:
    return await event.respond("â›” Bu ÆmrdÉ™n SadÉ™cÉ™ AdminlÉ™r Ä°sdifadÉ™ EdÉ™ BilÉ™r")
  
  if event.pattern_match.group(1):
    mode = "text_on_cmd"
    msg = event.pattern_match.group(1)
  elif event.reply_to_msg_id:
    mode = "text_on_reply"
    msg = event.reply_to_msg_id
    if msg == None:
        return await event.respond("âŒ KeÃ§miÅŸ Mesajlar ÃœÃ§Ã¼n TaÄŸ EdÉ™ BilmÉ™rÉ™m")
  elif event.pattern_match.group(1) and event.reply_to_msg_id:
    return await event.respond("âŒ Ä°stifadÉ™Ã§ilÉ™ri Ã‡aÄŸÄ±rmaÄŸÄ±m ÃœÃ§Ã¼n Bir SÉ™bÉ™b Yoxdur")
  else:
    return await event.respond("ğŸ—£ Ä°stifadÉ™Ã§ilÉ™ri TaÄŸ EdÉ™ BilmÉ™yim ÃœÃ§Ã¼n Birr SÉ™bÉ™b YazÄ±n...!")
  
  if mode == "text_on_cmd":
    tekli_calisan.append(event.chat_id)
    usrnum = 0
    usrtxt = ""
    async for usr in client.iter_participants(event.chat_id):
      usrnum += 1
      usrtxt += f"**ğŸ“¢ [{usr.first_name}](tg://user?id={usr.id}) \n**"
      if event.chat_id not in tekli_calisan:
        await event.respond("âœ… Tag Prosesi UÄŸurla DayandÄ±rÄ±ldÄ±")
        return
      if usrnum == 1:
        await client.send_message(event.chat_id, f"{usrtxt} {msg}")
        await asyncio.sleep(2)
        usrnum = 0
        usrtxt = ""
        
  
  if mode == "text_on_reply":
    tekli_calisan.append(event.chat_id)
 
    usrnum = 0
    usrtxt = ""
    async for usr in client.iter_participants(event.chat_id):
      usrnum += 1
      usrtxt += f"ğŸ“¢ [{usr.first_name}](tg://user?id={usr.id}) \n"
      if event.chat_id not in tekli_calisan:
        await event.respond("âœ… Tag Prosesi UÄŸurla DayandÄ±rÄ±ldÄ±")
        return
      if usrnum == 1:
        await client.send_message(event.chat_id, usrtxt, reply_to=msg)
        await asyncio.sleep(2)
        usrnum = 0
        usrtxt = ""

@client.on(events.NewMessage(pattern='^(?i)/cancel'))
async def cancel(event):
  global tekli_calisan
  tekli_calisan.remove(event.chat_id)
	


@client.on(events.NewMessage(pattern="^/admins ?(.*)"))
async def mentionall(tagadmin):

	if tagadmin.pattern_match.group(1):
		seasons = tagadmin.pattern_match.group(1)
	else:
		seasons = ""

	chat = await tagadmin.get_input_chat()
	a_=0
	await tagadmin.delete()
	async for i in client.iter_participants(chat, filter=cp):
		if a_ == 500:
			break
		a_+=5
		await tagadmin.client.send_message(tagadmin.chat_id, "**[{}](tg://user?id={}) {}**".format(i.first_name, i.id, seasons))
		sleep(0.5)




    
    
    
   
    

client_run = client_start.decode("utf8")
print(">> Chat bot iÅŸlÉ™yir â™¿ <<")
print(f"{client_run}")
client.run_until_disconnected()
